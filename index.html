<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="诚其意者 毋自欺" href="https://zhanyy88.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="诚其意者 毋自欺" href="https://zhanyy88.github.io/atom.xml"><link rel="alternate" type="application/json" title="诚其意者 毋自欺" href="https://zhanyy88.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><link rel="canonical" href="https://zhanyy88.github.io/"><title>Zhan YY = 诚其意者 毋自欺</title><meta name="generator" content="Hexo 6.0.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><a href="/" class="logo" rel="start"><p class="artboard">Zhan YY</p><h1 itemprop="name headline" class="title">诚其意者 毋自欺</h1></a></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Zhan YY</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicli3sbvtj20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipevo9j1jj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeuibk9fj20zk0m8ay2.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gicis3attqj20zk0m8k7l.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="index wrap"><h2 class="divider">置顶文章</h2><div class="segments sticky"><article class="item"><div class="cover"><a href="/psot/16107" itemprop="url" title="Hello World"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gipey0a334j20zk0m8qpt.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2021-12-29 18:06:47"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2021-12-29T18:06:47+08:00">2021-12-29</time></span></div><h3><a href="/psot/16107" itemprop="url" title="Hello World">Hello World</a></h3><div class="excerpt">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. # Quick Start # Create a new post h$ hexo new &quot;My New Post&quot;More info: Writing # Run server h$...</div><a href="/psot/16107" itemprop="url" title="Hello World" class="btn">more...</a></div></article></div><h2 class="divider">精选分类</h2><div class="cards"><section class="item"><div class="cover" data-background-image="/kafka/cover.jpg"><h2 class="title">Kafka</h2></div><div class="info"><div class="ribbon"><a href="/categories/kafka/" itemprop="url" title="Kafka">Kafka</a></div><div class="inner"><ul class="posts"><li><a title="kafka生产者-1" href="/psot/6d254281">kafka生产者-1</a></li><li><a title="kafka生产者-2" href="/psot/f42c133b">kafka生产者-2</a></li></ul><div class="meta footer"><span><i class="ic i-file"></i>2 篇文章</span></div><a href="/categories/kafka/" itemprop="url" title="Kafka" class="btn">more...</a></div></div></section><section class="item"><div class="cover" data-background-image="/flink/cover.jpg"><h2 class="title">flink</h2></div><div class="info"><div class="ribbon"><a href="/categories/flink/" itemprop="url" title="flink">flink</a></div><div class="inner"><ul class="posts"><li><a title="Tabel&Sql" href="/categories/flink/Tabel-Sql/">Tabel&Sql</a></li></ul><div class="meta footer"><span><i class="ic i-file"></i>1 个子项，2 篇文章</span></div><a href="/categories/flink/" itemprop="url" title="flink" class="btn">more...</a></div></div></section></div><h2 class="divider">文章列表</h2><div class="segments posts"><article class="item"><div class="cover"><a href="/psot/686ec8f1" itemprop="url" title="Sql提示语"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gipew8gmvyj20zk0m87wh.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-01-17 11:15:57"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-01-17T11:15:57+08:00">2022-01-17</time></span></div><h3><a href="/psot/686ec8f1" itemprop="url" title="Sql提示语">Sql提示语</a></h3><div class="excerpt">SQL Hints # -- override table options in query sourceselect id, name from kafka_table1 /*+ OPTIONS(&#39;scan.startup.mode&#39;=&#39;earliest-offset&#39;) */;-- override table options in joinselect * from kafka_table1 /*+ OPTIONS(&#39;scan.startup.mode&#39;=&#39;earliest-offset&#39;) */ t1 join...</div><div class="meta footer"><span><a href="/categories/flink/Tabel-Sql/" itemprop="url" title="Tabel&amp;Sql"><i class="ic i-flag"></i>Tabel&Sql</a></span></div><a href="/psot/686ec8f1" itemprop="url" title="Sql提示语" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/psot/f42c133b" itemprop="url" title="kafka生产者-2"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gipevarprfj20zk0m8npd.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2021-12-30 17:25:35"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2021-12-30T17:25:35+08:00">2021-12-30</time></span></div><h3><a href="/psot/f42c133b" itemprop="url" title="kafka生产者-2">kafka生产者-2</a></h3><div class="excerpt"># 客户端消息发送线程 # 从记录收集器获取数据 ​	  生产者发送的消息在客户端首先被保存到记录收集器中，发送线程需要发送消息时，从中获取就可以了。不过记录器为了使发送线程更好的工 作。 在发送线程需要数据时，记录收集器能够按照节点将消息重新分组再发送给发送线程。发送线程从记录收集器中得到每个节点上需要发送 的批记录列表，为每个客户端请求 (CLientRequest)。代码如下： // org.apache.kafka.clients.producer.internals.Sender#run(long)void run(long now) &amp;#123; Cluster...</div><div class="meta footer"><span><a href="/categories/kafka/" itemprop="url" title="Kafka"><i class="ic i-flag"></i>Kafka</a></span></div><a href="/psot/f42c133b" itemprop="url" title="kafka生产者-2" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/psot/6d254281" itemprop="url" title="kafka生产者-1"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gicliierfjj20zk0m8npd.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2021-12-30 11:15:57"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2021-12-30T11:15:57+08:00">2021-12-30</time></span></div><h3><a href="/psot/6d254281" itemprop="url" title="kafka生产者-1">kafka生产者-1</a></h3><div class="excerpt"># 同步和异步发送消息 ​	  KafkaProducer 只用了一个 send 方法，就可以完成同步和异步两钟模式的消息发送，这是因为 send 方法返回的是一个 Future。基于 Future, 我们可以实现同步和异步的消息发送语义。 同步。调用 send 返回 Future 时，需要立即调用 get, 因为 Future.get 在没有返回结果时会一直阻塞。 异步。提供一个回调函数，调用 send 后可以继续发送消息而不用等待，当有结果返回时，会自动执行回调函数。 public void run() &amp;#123; int messageNo = 1; while...</div><div class="meta footer"><span><a href="/categories/kafka/" itemprop="url" title="Kafka"><i class="ic i-flag"></i>Kafka</a></span></div><a href="/psot/6d254281" itemprop="url" title="kafka生产者-1" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/psot/32987c8c" itemprop="url" title="FlinkSql读取Hive配置"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gipeu7txpzj20zk0m81kx.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2021-12-30 11:15:57"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2021-12-30T11:15:57+08:00">2021-12-30</time></span></div><h3><a href="/psot/32987c8c" itemprop="url" title="FlinkSql读取Hive配置">FlinkSql读取Hive配置</a></h3><div class="excerpt"># 1 配置 hive Metastore # 1.1 配置 hive-site.xml &amp;lt;configuration&gt; &amp;lt;property&gt; &amp;lt;name&gt;javax.jdo.option.ConnectionURL&amp;lt;/name&gt; &amp;lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&amp;lt;/value&gt; &amp;lt;description&gt;metadata is stored in a...</div><div class="meta footer"><span><a href="/categories/flink/Tabel-Sql/" itemprop="url" title="Tabel&amp;Sql"><i class="ic i-flag"></i>Tabel&Sql</a></span></div><a href="/psot/32987c8c" itemprop="url" title="FlinkSql读取Hive配置" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/psot/7c6a5d83" itemprop="url" title="sparksql参数"><img data-src="https://tva1.sinaimg.cn/mw690/6833939bly1gipeu1usa7j20zk0m8b29.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2021-12-28 11:20:52"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2021-12-28T11:20:52+08:00">2021-12-28</time></span></div><h3><a href="/psot/7c6a5d83" itemprop="url" title="sparksql参数">sparksql参数</a></h3><div class="excerpt"># sparksql 参数 # 全局参数： --master yarn-cluster (or yarn-client) 参数说明： 制定yarn的执行模式，分集群模式和客户端模式，一般使用集群模式 --num-executors...</div><div class="meta footer"><span><a href="/categories/Spark/" itemprop="url" title="Spark"><i class="ic i-flag"></i>Spark</a></span></div><a href="/psot/7c6a5d83" itemprop="url" title="sparksql参数" class="btn">more...</a></div></article></div></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Zhan YY" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Zhan YY</p><div class="description" itemprop="description">我见青山多妩媚，料青山见我应如是。</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">6</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">4</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">7</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/kafka/" title="分类于 Kafka">Kafka</a></div><span><a href="/psot/6d254281" title="kafka生产者-1">kafka生产者-1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/flink/" title="分类于 flink">flink</a> <i class="ic i-angle-right"></i> <a href="/categories/flink/Tabel-Sql/" title="分类于 Tabel&Sql">Tabel&Sql</a></div><span><a href="/psot/32987c8c" title="FlinkSql读取Hive配置">FlinkSql读取Hive配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/flink/" title="分类于 flink">flink</a> <i class="ic i-angle-right"></i> <a href="/categories/flink/Tabel-Sql/" title="分类于 Tabel&Sql">Tabel&Sql</a></div><span><a href="/psot/686ec8f1" title="Sql提示语">Sql提示语</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/kafka/" title="分类于 Kafka">Kafka</a></div><span><a href="/psot/f42c133b" title="kafka生产者-2">kafka生产者-2</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/psot/16107" title="Hello World">Hello World</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Spark/" title="分类于 Spark">Spark</a></div><span><a href="/psot/7c6a5d83" title="sparksql参数">sparksql参数</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Zhan YY @ Zhan YY</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>